<!DOCTYPE html>
<html>
<head>
    <title>Spring Failure Report</title>
    <style>
        .summary-table {
            width: 50%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .summary-table, .summary-table th, .summary-table td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        .summary-table th {
            background-color: #f2f2f2;
        }
        #data-container {
            display: none;
            margin-top: 20px;
        }
    </style>
    <script>
        function toggleTable() {
            let dataContainer = document.getElementById("data-container");
            if (dataContainer.style.display === "none" || dataContainer.style.display === "") {
                dataContainer.style.display = "block";  // Show table
            } else {
                dataContainer.style.display = "none";  // Hide table
            }
        }
    </script>
</head>
<body>
    <h2>Spring Failure Report</h2>

    {% if chart_url %}
        <img src="data:image/png;base64,{{ chart_url }}" alt="Failure Type Distribution">
    {% else %}
        <p>No data available.</p>
    {% endif %}

    <h3>Failure Summary</h3>
    <button onclick="toggleTable()">Show/Hide Summary Table</button>
    <div id="data-container">
        {{ summary_html|safe }}
    </div>

    <br>
    <a href="/">Go Back</a>
</body>
</html>
